$lightRed: rgb(252, 45, 42);
$lightBlue: rgb(52, 45, 242);
$lightOrange: rgb(252, 245, 42);
$lightGreen: rgb(52, 245, 42);
$lightPurple: rgb(252, 45, 242);
$sky: #223355;
$skyHorizon: #222;

$yeti: #A4BBDC;

$farRangeTree: grayscale(.33) brightness(.9) opacity(.6);
$midRangeTree: grayscale(.33) brightness(.9);
$closeRangeTree: brightness(.9);

$lightsOut: brightness(.4) opacity(.85);
$starOut: brightness(.5);
$lightsOn: brightness(1.3);
$lightDuration: .145s;

body {
  background: linear-gradient(to bottom, $sky, $skyHorizon 40%, #fff 50%, #fff);
  overflow: hidden;
  height: 100vh;
  width: 100%;
  user-select: none;
  padding: 0;
  margin: 0;
}

tspan {
  font-size: 48px;
  font-family: sans-serif;
  fill: $lightRed;
  
  &:nth-of-type(5n + 5) {
    fill: $lightPurple;
  }
  &:nth-of-type(5n + 4) {
    fill: $lightBlue;
  }
  &:nth-of-type(5n + 3) {
    fill: $lightOrange;
  }
  &:nth-of-type(5n + 2) {
    fill: $lightGreen;
  }
}
.tree {
  filter: brightness(90%);
  transition: filter $lightDuration ease-in-out;
  path {
    stroke: #336833;
  }
  .huzzah & {
    filter: brightness(105%);
  }
}

.tree, .lights, .lights-blur, .star, .star-blur {
  position: absolute;
  bottom: 5%;
  left: 50%;
  transform: translateX(-50%);
  width: 60vmin;
  //max-height: 100vmin;
  z-index: 100;
  svg {
    max-width: 100%;
  }
}
.star {
  filter: $starOut;
  transition: filter $lightDuration ease-in-out;
  
  .huzzah & {
    filter: $lightsOn;
  }
}
.lights {
  filter: $lightsOut;
  transition: filter $lightDuration ease-in-out;
  
  .huzzah & {
    filter: $lightsOn;
  }
}
.lights-blur {
  opacity: 0;
  transition: filter $lightDuration ease-in-out,
    opacity $lightDuration ease-in-out;
  
  .huzzah & {
    opacity: 1;
    filter: $lightsOn blur(3px);
  }
}

.forest {
  filter: grayscale(.33);
  position: absolute;
  width: 100%;
  top: 50%;
  .back-tree {
    position: absolute;
    top: 50%;
    left: 0;
    width: 60vmin;
    transform-origin: 0 0;
    
    &:nth-of-type(1) {
      transform: translate3d(-10vw, -50%, 0) scale(.5);
      z-index: 50;
      filter: $farRangeTree;
    }
    &:nth-of-type(2) {
      transform: translate3d(0, -50%, 0) scale(.67);
      z-index: 67;
    }
    &:nth-of-type(3) {
      transform: translate3d(10vw, -50%, 0) scale(.45);
      z-index: 45;
      filter: $farRangeTree;
    }
    &:nth-of-type(4) {
      transform: translate3d(18vw, -48%, 0) scale(.56);
      z-index: 56;
      filter: $midRangeTree;
    }
    &:nth-of-type(5) {
      transform: translate3d(28vw, -50%, 0) scale(.5);
      z-index: 50;
      filter: $farRangeTree;
    }
    &:nth-of-type(6) {
      transform: translate3d(37vw, -50%, 0) scale(.66);
      z-index: 66;
    }
    &:nth-of-type(7) {
      transform: translate3d(36vw, -50%, 0) scale(.54);
      z-index: 54;
      filter: $midRangeTree;
    }
    &:nth-of-type(8) {
      transform: translate3d(49vw, -50%, 0) scale(.46);
      z-index: 46;
      filter: $farRangeTree;
    }
    &:nth-of-type(9) {
      transform: translate3d(57vw, -50%, 0) scale(.69);
      z-index: 69;
    }
    &:nth-of-type(10) {
      transform: translate3d(66vw, -50%, 0) scale(.55);
      z-index: 55;
      filter: $midRangeTree;
    }
    &:nth-of-type(11) {
      transform: translate3d(72vw, -50%, 0) scale(.49);
      z-index: 49;
      filter: $farRangeTree;
    }
    &:nth-of-type(12) {
      transform: translate3d(80vw, -50%, 0) scale(.6);
      z-index: 60;
      filter: $midRangeTree;
    }
    &:nth-of-type(13) {
      transform: translate3d(88vw, -50%, 0) scale(.56);
      z-index: 56;
      filter: $midRangeTree;
    }
    &:nth-of-type(14) {
      transform: translate3d(96vw, -50%, 0) scale(.48);
      z-index: 48;
      filter: $farRangeTree;
    }
    &:nth-of-type(15) {
      transform: translate3d(100vw, -50%, 0) scale(.56);
      z-index: 56;
    }
    &:nth-of-type(16) {
      transform: translate3d(109vw, -50%, 0) scale(.6);
      z-index: 60;
    }
  }
}

.snow {
  width: 1rem;
  height: 1rem;
  background: #fff;
  border-radius: 50%;
  display: inline-block;
  position: absolute;
  top: -1rem;
  left: 0;
  z-index: 150;
}

.yeti {
  position: absolute;
  bottom: -270px;
  left: 40px;
  width: 300px;
  z-index: 200;
  transform: translate3d(0, 100%, 0);
  will-change: transform;
  transition: transform .6s 0s ease-in;
  
  .huzzah & {
    transform: translate3d(0, 0%, 0);
    transition: transform 6s 1s ease-out;
    
    circle {
      animation: shifty 9s alternate infinite ease-in-out both;
    }
  }
}
.yeti-claws {
  position: absolute;
  bottom: 0;
  left: 20px;
  width: 280px;
  will-change: transform;
  
  .claw {
    display: inline-block;
    float: left;
    width: 1rem;
    height: 1rem;
    background: $yeti;
    border-radius: 50%;
    
    &:nth-of-type(odd) {
      float: right;
    }
  }
  .huzzah & {
    animation: clawy 3s 1s normal ease-in-out both,
      clawy2 3s 3s normal linear both;
    //z-index:220;
  } 
}

@keyframes shifty {
  54% {
    transform: translate3d(0px, 0, 0);
  }
  80% {
    transform: translate3d(-20px, 0, 0);
  }
}
@keyframes clawy {
  0% {
    transform: translate3d(0px, 0, 0);
  }
  50% {
    transform: translate3d(0px, -16px, 0);
  }
  80%, 100% {
    transform: translate3d(0px, -8px, 0);
  }
}
@keyframes clawy2 {
  69%, 70%, 100% {
    z-index: 240;
  }
}

.codepen {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 1rem;
  background: #343436;
  z-index: 210;
}

.glow-screen {
  position: absolute;
  z-index: 90;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at 50% 50%, transparent, #444);
  opacity: 0;
  transition: opacity $lightDuration ease-in-out;
  .huzzah & {
    opacity: .2;  
    //filter: brightness(2);
  }
}



// body {
// 	margin: 0;
// 	position: fixed;
// 	background-color: rgb(200, 220, 254);
// }
// p{
// 	position: fixed;
// 	top: 25vh;
// 	margin: 7vw;
// 	font-size: calc(25vw/5);
// 	font-weight: bolder;
// 	color: rgb(130, 160, 254);
// 	z-index: -1;
// 	text-align: center;
// }




